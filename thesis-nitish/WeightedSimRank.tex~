\chapter{Weighted SimRank}
\label{appendix:weightedSimRank}
We discuss the weighted SimRank Model here along with the theoretical interpretation using Random Surfer-Pairs Model.

\section{Random Surfer-Pairs Model}
We extend the Random Surfer-Pairs Model and Expected-f Meeting Distance discussed in \citep{Jeh02simrank} to a weighted graph.
We define $s'(\alpha,\beta)$, the similarity between $\alpha$ and $\beta$ in $G$ based on \textit{expected-f meeting distance}, with $f(z) = c^z$, as

\begin{equation}
s'(a,b) = \sum_{t:(a,b) \rightsquigarrow (x,x)} P[t]c^{l(t)}  \label{eq:emdWeighted} 
\end{equation}

where $c$ is the a positive constant less than 1. 
If there is no tour from $(\alpha,\beta)$ to any singleton node, the summation is taken to be $0$. 
Note from equation \ref{eq:emdWeighted} that $s'(\alpha,\beta) \in [0, 1]$ for all $\alpha,\beta$, and that $s'(\alpha,\beta) = 1$ if $\alpha=\beta$.

\section{Equivalence}
For presentation ease, let us assume that all edges in the graph G have been reversed, so following an edge in the reversed graph is same as moving one step backwards in the original graph.

We compute the expected-f meeting distance on lines of computation of expected distance in the graph.
Suppose a surfer is at $u \in V$. 
In the next step, he chooses one of $O_1(u), \ldots, O_{|O(u)|}(u)$, say $O_i(u)$, proportional with the corresponding edge weight i.e. with probability $\frac{w(u,O_i(u))}{W_O(u)}$.
On choosing $O_i(u)$, the process is repeated.

We'll now show that $s'(\alpha,\beta) = s(\alpha,\beta)$

\begin{align}
s'(\alpha,\beta)  
 &= \sum_{z=1}^{|O((\alpha,\beta))|} \sum_{t':O_z((\alpha,\beta)) \rightsquigarrow (x,x)} P[(\alpha,\beta) \rightarrow O_z(\alpha,\beta) \overset{t'}{\rightsquigarrow} (x,x)]  \cdot  c^{l(t')+1}  \notag \\
 &= c \sum_{z=1}^{|O((\alpha,\beta))|} \sum_{t':O_z((\alpha,\beta)) \rightsquigarrow (x,x)} P((\alpha,\beta) \rightarrow O_z(\alpha,\beta))  \cdot  P[t']  \cdot  c^{l(t')}    \notag \\
 &= c \sum_{z=1}^{|O((\alpha,\beta))|} P((\alpha,\beta) \rightarrow O_z(\alpha,\beta))  \sum_{t':O_z((\alpha,\beta)) \rightsquigarrow (x,x)}   P[t']  \cdot  c^{l(t')}    \notag \\
 &= c \sum_{z=1}^{|O((\alpha,\beta))|} P((\alpha,\beta) \rightarrow O_z(\alpha,\beta))  \cdot s'(O_z(\alpha,\beta))    \notag \\
 &= c \sum_{i=1}^{|O(\alpha)|} \sum_{j=1}^{|O(\beta)|} P((\alpha,\beta) \rightarrow (O_i(\alpha),O_j(\beta)))  \cdot s'(O_i(\alpha),O_j(\beta))    \notag \\
 &= c \sum_{i=1}^{|O(\alpha)|} \sum_{j=1}^{|O(\beta)|} \frac{ w(\alpha,O_i(\alpha)) \cdot w(\beta,O_j(\beta)) } { W_{O}(\alpha) \cdot W_O(\beta)}  \cdot s'(O_i(\alpha),O_j(\beta))    \notag \\
 &= \frac{c}{{ W_{O}(\alpha) \cdot W_O(\beta)}} \sum_{i=1}^{|O(\alpha)|} \sum_{j=1}^{|O(\beta)|} w(\alpha,O_i(\alpha)) \cdot w(\beta,O_j(\beta)) \cdot s'(O_i(\alpha),O_j(\beta)) \label{eq:SimRankWeightedReversed}
\end{align}

Equation \ref{eq:SimRankWeightedReversed} is identical to the SimRank equation \ref{eq:SimRankWeighted} with $c = C$ and in-edges swapped for out-edges. 
Since the solution to \ref{eq:SimRankWeighted} is unique\footnote{Straight forward proof on lines of SimRank. Refer \citep{Jeh02simrank}}, $s'(\alpha, \beta) = s(\alpha, \beta)$ for all $\alpha, \beta \in V$ . 